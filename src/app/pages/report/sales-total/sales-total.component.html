<!-- Content Header (Page header) -->
<section class="content-header">
    <h1 class="pull-left">Sales Total Report</h1>

    <a routerLink="/reports" class="btn btn-success btn-sm btn-back pull-right">Back <i class="fa fa-arrow-right"></i></a>
    <button (click)="exportAsXLSX()" class="btn btn-info btn-sm pull-right" style="margin-right: 5px;"><i class="fa fa-file-excel-o" style="font-size:15px;"></i></button>
</section>
  
  <!-- Main content -->
  <section class="content">
  
  <div class="box box-solid box-info">
    <div class="table-responsive">
      <div class="col-md-12">
        <h3 class="report-title text-center"> Sales Total </h3>
      </div>
      
      <div class="filter-block">
        <form action="" method="GET" #filterReport="ngForm" (ngSubmit)="onFilter()" class="filter-form">
          <div class="row">
            <div class="col-md-4 col-sm-4 col-xs-6">
              <div class="form-group">
                <label for="">Start Date
                <!-- <input type="date" name="start_date" [(ngModel)]="query.start_date" class="form-control"> -->
                <input [owlDateTimeTrigger]="dt1" [owlDateTime]="dt1" name="start_date" [(ngModel)]="query.start_date" class="form-control">
                <owl-date-time #dt1></owl-date-time>
                </label>
              </div>
            </div>
            <div class="col-md-4 col-sm-4 col-xs-6">
              <div class="form-group">
                <label for="">End Date
                <!-- <input type="date" name="end_date" [(ngModel)]="query.end_date" class="form-control"> -->
                <input [owlDateTimeTrigger]="dt2" [owlDateTime]="dt2" name="end_date" [(ngModel)]="query.end_date" class="form-control">
                <owl-date-time #dt2></owl-date-time>
                </label>
              </div>
            </div>
            <div class="col-md-4 col-sm-4 col-xs-6">
              <div class="form-group">
                
                <button type="submit" class="btn btn-info btn-filter">Search</button>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="clearfix"></div>
      
      <table class="table table-striped table-hover tbl-total">
        <tbody *ngFor="let total of salesTotal">
          <tr>
            <td>Total</td>
            <td>:</td>
            <td class="text-right" *ngIf="total.subtotal > 0"> {{total.subtotal}} </td>
            <td class="text-right" *ngIf="total.subtotal == null"> 0 </td>
          </tr>
          <tr>
            <td>Discount(%)</td>
            <td>:</td>
            <td class="text-right" *ngIf="total.discount > 0"> {{total.discount}} </td>
            <td class="text-right" *ngIf="total.discount == null"> 0 </td>
          </tr>
          <tr>
            <td>Tax(5%)</td>
            <td>:</td>
            <td class="text-right" *ngIf="total.tax > 0"> {{total.tax}} </td>
            <td class="text-right" *ngIf="total.tax == null"> 0 </td>
          </tr>
          <tr>
            <td>TotalAmount</td>
            <td>:</td>
            <td class="text-right" *ngIf="total.totalAmount > 0"> {{total.totalAmount}} </td>
            <td class="text-right" *ngIf="total.totalAmount == null"> 0 </td>
          </tr>
          <tr>
            <td>PaidAmount</td>
            <td>:</td>
            <td class="text-right" *ngIf="total.paidAmount > 0"> {{total.paidAmount}} </td>
            <td class="text-right" *ngIf="total.paidAmount == null"> 0 </td>
          </tr>
          <tr>
            <td>ChangeAmount</td>
            <td>:</td>
            <td class="text-right" *ngIf="total.changeAmount > 0"> {{total.changeAmount}} </td>
            <td class="text-right" *ngIf="total.changeAmount == null"> 0 </td>
          </tr>
          <tr>
            <td>BalanceAmount</td>
            <td>:</td>
            <td class="text-right" *ngIf="total.balanceAmount > 0"> {{total.balanceAmount}} </td>
            <td class="text-right" *ngIf="total.balanceAmount == null"> 0 </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
        
  </section>